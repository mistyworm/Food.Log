#2014年7月工作日志

##12
1. 本周实现以下rest api接口：
	1. master端：
		1. admin管理页面的弹出机制，具体管理功能有待讨论补充。
		2. /auth/v0.1/node
	2. node端：
		1. admin管理页面的弹出机制，具体管理功能有待讨论补充。
		2. /auth/v0.1/removal
		3. /auth/v0.1/bind/app
	3. 加上以前实现的/auth/v0.1/register，新的node部署、注册，各node之间通过master完成绑定，交换授权随机数Rab、Rba的过程已经可以走通。
	4. 项目组强行删除某个节点也实现。在其它部署的数据库中彻底delete，而不是修改状态位。
2. auth模块的所有http路由功能，已经直接使用golang原生的net/http包，而不再使用第三方的包。

3. 有些细节机制还需要进一步讨论：
	1. 敏感操作已经加上了远端ip地址检验。比如/auth/v0.1/removal接口会检验对方ip是不是master，而master部署的关键信息是写死在源代码中的。（测试时可以修改，写在node.go的开头。）

	>具体方法是：ip := strings.Split(r.RemoteAddr, ":")[0]
	>其中r是*http.Request
	>由于测试机器和环境还不多，还不知道这个方法会不会又漏洞。
	>比如取到对方域名？
	>本地连接，如果用localhost收到的是一个"[:]"开头的字符串，所以取得一个"["。必须用127.0.0.1调用才能取得ip。

	2. 大致上，node和master交互尽量使用rsa数字签名，node之间还是使用R授权随机数。综合起来有没有漏洞，还需要逐步推敲。
	3. Auth/v0.1/modules的需求还不够清晰。仅仅写入数据库问题不大，关键是怎么和其它业务模块协作起来。这部分超过auth模块，需要结合LIS模块这些功能再细化设计。
4. 登记工时：
	1. 6.13 6:43~9:30：【概要设计】构造base模块（auth是其中之一）
	2. 6.15 8:12~8:39：【开发】x509包关于rsa密钥的读写
	3. 6.20 14:00~18:30：【数据库设计】部署tmi和数据库设计
	4. 6.21 14:15~15:45、16:30~20:00、20:15~21:00：【开发】rsa相关功能。
	5. 6.23 15:30~20:15：【开发】register接口
	6. 7.7 14:25~16:54：【主程序框架】完成了master和node的划分，重新调试走通register过程。
	7. 7.9 13:15~16:00：【主程序框架】本地管理页面的弹出机制。
	8. 7.12 15:30~19:21：【开发】实现3个接口/auth/v0.1/node；/auth/v0.1/removal；/auth/v0.1/bind/app

	> 合计：  
	> （二）【概要设计】【数据库设计】【主程序框】  共12小时31分钟。
	> （四）【开发】  14小时48分钟

###周末小结
1. 本周工作日志，的自评。
	- 符合。
2. 需要表决的动议。
	- 无
3. 需要关注的行业动态、用户反馈。
	- 无。 
4. 针对上周五提交的行业动态、用户反馈，提出《作弊模式分析》或《行业发展评估》以及项目组行动建议，行动要明确预算、进度、工作结果、验收方式。
	- 无。

###例会：
	1. 判定其他每一位项目成员的“工作结果是否符合任务目标”。
		- 李宠波：符合
	2. 判定项目组“工作结果是否符合工作目标”。
		 符合
	3. 自己在下次项目成员会议前能完成的任务目标。
		1. 实现auth的master端、node端的admin页面。包括以下功能：
			1. master端：node部署前准备
			2. master端：删除某个node
			3. node端：申请与另一个node关联
			4. 一些必要的帮助信息。
		2. 编写auth模块部署手册。如果李宠波开始写相关代码，协助调试。
		3. 结合auth和LIS需求，整理Auth/v0.1/modules的需求。
	4. 近期内项目的工作重点。
		1. 7月下旬，消费者自选物流商的软件功能上线。正式支撑夏季菜季销售。

##9
1. 前天把auth项目分为master和node项目。正在考虑master是否包含node，先按照包含去做。
2. 为auth增加页面，因为确实有一些管理操作。

##5
因为上周末出差，延迟到这周。
1. 投入时间不够，没有按计划完成auth模块。
2. 打算把auth分为两个项目，因为官方部署和普通部署的差异越来越大。还没有完成规划。
3. web的路由部分，已经想好怎么用golang原生模块实现，在别的项目测试过了，还没有放到食品安全项目。

###周末小结
1. 本周工作日志，的自评。
	- 不符合。
2. 需要表决的动议。
	- 无
3. 需要关注的行业动态、用户反馈。
	- 无。 
4. 针对上周五提交的行业动态、用户反馈，提出《作弊模式分析》或《行业发展评估》以及项目组行动建议，行动要明确预算、进度、工作结果、验收方式。
	- 无。

###例会：
	1. 判定其他每一位项目成员的“工作结果是否符合任务目标”。
		- 李宠波：符合
	2. 判定项目组“工作结果是否符合工作目标”。
		 不符合
	3. 自己在下次项目成员会议前能完成的任务目标。
		1. 根据确定的技术机制，开发部署关联、身份认证的golang范例。
		2. 重整一下Rest代码架构，尽量用golang原生模块。
	4. 近期内项目的工作重点。
		1. 7月下旬，消费者自选物流商的软件功能上线。正式支撑夏季菜季销售。


