#2013年7月工作日志

##27
1. 本周状态还是处于停滞，拨出三四天时间专用于项目，但是产出很少。真正能集中精力做事的，只有26号大概半个多小时，调试了一下存储过程。
2. 本周李兰兰那边开始卖鸡肉，乐活先生发起关于透明度和知情权的讨论。只是简单跟进，没有积极地沟通。

本周不合格。下周想法调整一下状态。

##26
1. 修正数据库字段笔误：  ALTER TABLE `fooddev`.`paymentitem` CHANGE COLUMN `PayemntID` `PaymentID` INT(11) NULL DEFAULT NULL  ; 
2. 修改存储过程CreatePackageByPI，PID、DSSID需要加表名，Payment改为PaymentID。
3. 

##20
1. 后半周沉迷于一个趣味小算法，以及准备周日的纳思商务谈判，没有投入足够时间到食品安全项目。 
2. 周六白天有时间，也在办公室坐了一天，但注意力总是被吸引到上面两件事，不能专心工作。结果哪件事都没做好，一点进展都没有。
3. 本周各项工作下周继续做，暂不提交工作结果。
4. 过去两个月以多方合同运行项目，有几点需要强化：
	1. 从工作规律看，确有零散任务，也有持续投入一定时间的任务。应该根据工作内容之间的关联性，制定各类任务的最低承诺条件。但不能太复杂，应该一次阅读无需笔录就可以准确记忆。
	2. 项目成员会议应汇总项目成员对项目的承诺，制定项目组对用户的承诺，显性地发给用户。发布内容应能显示各人的工作细节。
	3. 为了保护成员利益，项目成员拥有最高的表决权。但表决权对应的调研、思考等义务却没有明确下来，造成有权无责的局面，实质上损害了整个共同体的利益。应该明确表决权对应的调研等义务，项目成员承担义务的情况应公示并接受监督。同时也受到保护，不因外部压力而改变决策。自愿放弃义务和权力的项目成员，其利益如何保护，是否要把权力分层，这个问题还需要后面继续思考，然后再提交大家讨论。
	4. 会议中的工作简报流于形式。一次合格的工作简报应该有十几分钟，开发工作简介代码，跟踪运行，分析其中难点。行业分析工作剖析行业事件，介绍信息源可信度及沟通情况，分析对策和其中疑点。因为委托开发项目和打工不注重简报，或者习惯于自我保护，不愿意透露太多信息。而自己的产品则应该提高透明度。

##15
提交到svn： \trunk\sql\release\food.oginit.sql  
1. 修改og表，把账户字段移到account；  
2. 创建项目、北京两个运营区的og、ogar、account表数据；  
3. 创建代缴支付宝手续费、代缴税款，用户的个人账户account；  
4. 把三个项目成员的u记录的isitcooper改为true  

整理了sql文件夹：  
1. 放弃clean部署；  
2. 整理补充dev部署的脚本；  
3. 归并release部署的初始化脚本。  
今后还是要根据自营产品的需要，整理开发文件规范。目前的做法还残留不少来自委托开发的做法。

##14
修改了320页（正式版+散购宅配版），在地图下加上了跳到北京快捷按钮。
目前的方法，等其它运营区域建立后要人工增加快捷按钮。

以后要修改数据库，在og增加中心经纬度才能自动列出快捷按钮。
##13
1. 明确取菜点注册流程，已提交至svn： \trunk\doc\食品安全流程.vsd
2. 提出区域消费专员、区域生产专员的菜单页，已提交至svn：\trunk\doc\页面设计.xls （暂时标注黄色背景，讨论成熟后再清除。）
3. 设计区域消费专员、区域生产专员的页面，集散点需求相关的暂缓，原有页面未重新设计。已提交至svn：\trunk\doc\页面设计\

以上工作共计四个工时。

##7
1. 89号任务，协助列出常用食品类型以及分类。其中类型直接选取后进入安全属性选择，分类选取后展开下级让用户继续选择。
2. 90号任务已完成，提交到svn的\trunk\sql\clean\web.init.2.sql  (2.5工时)
3. 54号任务。重新整理了配送TMI，把付款有关的功能集中到CreatePackageByPI存储过程。（12.5工时）
4. 63号任务：（3.5工时）
	1. 份额上架：创建NS、NST、FTNS。
	2. 用户购买NS：创建UNS，P。创建Payment、PaymentItem、PPayment。
	3. 用户支付NS款项：创建PayExtPay，调用LockPay过程。因为这是P的货款比较简单，可以参考CreatePackageByPI分账。注意，还是每个P创建一个Payment，因为以后确认收货是分开的。
	4. 生产者配货：创建FoodNST。
	5. 消费者选菜：创建AvoidNST、FaviorNST。
5. 69号任务。（15.5工时）
	1. 修改了几处数据库表：
		1. 创建Payment、PaymentITem、Account、SOT、PPayment。
		2. 修改了account的LockedOut笔误。
		3. 随着单独的account表创建，PaymentITem、SOT表的accountType+relateID，都改为AccountID。
	2. 开发了Pay、LockPay、UnlockPayment存储过程。

本周共登记34工时，有许多是以前各周进行的。